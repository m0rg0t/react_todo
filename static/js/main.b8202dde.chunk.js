(this.webpackJsonpreact_todo=this.webpackJsonpreact_todo||[]).push([[0],{103:function(e,a,t){},104:function(e,a,t){},140:function(e,a,t){},141:function(e,a,t){},142:function(e,a,t){},143:function(e,a,t){},144:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(6),d=t.n(c),o=(t(103),t(148)),i=t(20),u=(t(104),t(8)),l=t(10),s=t(33),p=t(23),m=t(24),f=function(){function e(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(p.a)(this,e),this._name="",this.cards=[],this._id=Object(l.c)(),this.cards=Object(s.a)(t),this._name=a}return Object(m.a)(e,[{key:"toJSON",value:function(){return{name:this.name,id:this._id,cards:Object(s.a)(this.cards)}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}}]),e}(),g=Object(l.b)({name:"cards",initialState:{},reducers:{add:function(e,a){e[a.payload.id]=a.payload},remove:function(e,a){e[a.payload]&&delete e[a.payload]},update:function(e,a){e[a.payload.id]&&(e[a.payload.id]=a.payload)},removeByIds:function(e,a){a.payload.map((function(a){return e[a]&&delete e[a],a}))}}}),y=g.actions,v=y.add,b=(y.remove,y.update),h=y.removeByIds,E=g.reducer,O=Object(l.b)({name:"groups",initialState:{},reducers:{add:function(e,a){e[a.payload.id]=a.payload},remove:function(e,a){e[a.payload]&&delete e[a.payload]},update:function(e,a){e[a.payload.id]&&(e[a.payload.id]=a.payload)},addCardById:function(e,a){var t=e[a.payload.groupId];t&&!t.cards.find((function(e){return e===a.payload.cardId}))&&(t.cards.push(a.payload.cardId),e[a.payload.groupId]=t)},removeCardById:function(e,a){var t=e[a.payload.groupId];t&&(e[a.payload.groupId].cards=t.cards.filter((function(e){return e!==a.payload.cardId})))}}}),I=O.actions,j=I.add,k=(I.remove,I.update,I.addCardById),x=I.removeCardById,C=O.reducer,N=Object(l.a)({reducer:{groups:C,cards:E}});var _=function(){var e=Object(u.c)();return r.a.createElement("header",null,r.a.createElement(o.g,null,r.a.createElement(o.g.Group,{align:i.a.LEFT},r.a.createElement(o.g.Heading,null,"React TODO app"),r.a.createElement(o.g.Divider,null),r.a.createElement(o.a,{className:"bp3-minimal",icon:"add",onClick:function(){return e((a=N.getState(),function(e){var t=Object.keys(a.groups).length+1;e(j(new f("Group".concat(t)).toJSON()))}));var a},text:"Add Group"}))))},w=(t(136),t(137),t(138),t(50)),B=t(14),S=t(16),D=Object(l.b)({name:"groups",initialState:{},reducers:{add:function(e,a){e[a.payload.id]=a.payload},remove:function(e,a){e[a.payload]&&delete e[a.payload]},update:function(e,a){e[a.payload.id]&&(e[a.payload.id]=a.payload)},addCardById:function(e,a){var t=e[a.payload.groupId];t&&!t.cards.find((function(e){return e===a.payload.cardId}))&&(t.cards.push(a.payload.cardId),e[a.payload.groupId]=t)}}}),G=D.actions,J=(G.add,G.remove),T=G.update,P=G.addCardById,R=function(e){return e.groups},A=(D.reducer,function(){function e(){Object(p.a)(this,e),this._text="",this._id=Object(l.c)()}return Object(m.a)(e,[{key:"toString",value:function(){return this.text}},{key:"toJSON",value:function(){return{text:this.text,id:this._id}}},{key:"id",get:function(){return this._id}},{key:"text",get:function(){return this._text},set:function(e){this._text=e}}]),e}()),H=(t(140),t(15)),F=Object(B.cn)("TodoCard");var L=function(e){var a=e.card,t=Object(u.c)();return r.a.createElement("div",{className:F()},r.a.createElement(H.b,{key:a.id,draggableId:a.id,index:0,shouldRespectForcePress:!0},(function(e,n){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement(o.b,{className:F("Card")},r.a.createElement("textarea",{className:F("CardText"),value:a.text,onChange:function(e){var n=e.target.value;t(b(Object(S.a)(Object(S.a)({},a),{},{text:n})))}}),r.a.createElement(o.a,{onClick:function(){var e;console.log("clicked"),t((e=a.id,function(a,t){var n=t().groups;Object.keys(n).map((function(t){return a(x({groupId:t,cardId:e})),t}))}))},text:"Delete card"})))})))},M=(t(141),Object(B.cn)("TodoGroup"));var W=function(e){var a=e.group,t=Object(u.c)(),n=Object(u.d)((function(e){var t;return null===(t=a.cards)||void 0===t?void 0:t.map((function(a){return e.cards[a]}))}));return r.a.createElement("div",{className:M()},r.a.createElement(H.c,{droppableId:a.id,placeholder:"Droppable"},(function(e,c){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{style:{backgroundColor:c.isDraggingOver?"black":"grey"}}),r.a.createElement(o.b,{className:M("Card")},r.a.createElement("div",{className:M("GroupHeader")},r.a.createElement(o.c,{multiline:!1,minLines:1,className:M("GroupName"),onChange:function(e){t(T(Object(S.a)(Object(S.a)({},a),{},{name:e})))},value:a.name}),r.a.createElement(o.h,{content:r.a.createElement(o.e,null,r.a.createElement(o.f,{text:"Add card",onClick:function(){return t((e=a.id,n=new A("card text").toJSON(),function(a){a(v(n)),a(P({groupId:e,cardId:n.id}))}));var e,n}}),r.a.createElement(o.f,{text:"Copy"}),r.a.createElement(o.f,{text:"Delete",onClick:function(){return t(function(e){return function(a){a(J(e.id)),a(h(e.cards))}}(a))}}))},r.a.createElement(o.d,{icon:"menu",className:M("GroupMenu")})))),n.map((function(e){return r.a.createElement(L,{card:e})})))})))},$=(t(142),Object(B.cn)("Groups"));var q=function(){var e=Object(u.c)(),a=Object(u.d)(R);return r.a.createElement(H.a,{onDragEnd:function(a){var t,n,r;console.log("onDragEnd",a),a.destination&&a.source&&e((t=a.source.droppableId,n=a.destination.droppableId,r=a.draggableId,function(e){e(k({groupId:n,cardId:r})),e(x({groupId:t,cardId:r}))}))}},r.a.createElement("div",{className:$()},a&&Object.entries(a).map((function(e){var a=Object(w.a)(e,2),t=a[0],n=a[1];return r.a.createElement(W,{group:n,key:t})}))))};t(143);var z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement("main",null,r.a.createElement(q,null)),r.a.createElement("footer",null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:N},r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},98:function(e,a,t){e.exports=t(144)}},[[98,1,2]]]);
//# sourceMappingURL=main.b8202dde.chunk.js.map